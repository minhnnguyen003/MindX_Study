<div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form class="form-delete" method="POST">
          <p class="text-center fs-4 del-modal-name">Remove fruits from cart?</p>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger btn-delete-fruit">Delete</button>
      </div>
    </div>
  </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const deleteIcon = document.querySelectorAll('.delete-icon');
      const form = document.querySelector('.form-delete');
      for(let i = 0; i < deleteIcon.length; ++i) {
        deleteIcon[i].addEventListener('click', (event) => {
          const icon = event.target;
          const id = icon.getAttribute('data-id');
          const name = icon.getAttribute('data-name');
          document.querySelector('.del-modal-name').textContent = `Remove ${name} from cart?`;
          form.action = `/cart/${id}?_method=DELETE`;
        })
      }
      document.querySelector('.btn-delete-fruit').addEventListener('click', () => {
          form.submit();
      })
    })
</script>